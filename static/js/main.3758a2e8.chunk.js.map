{"version":3,"sources":["util/service.js","components/Login.jsx","components/TopicsList.jsx","components/Register.jsx","components/Topic.jsx","components/TopicList.jsx","components/Messages.jsx","layout/Content.jsx","index.js"],"names":["url","api","getMessage","id","fetch","then","res","json","getTopics","withRouter","setUser","history","useState","username","setUsername","password","setPassword","handleSubmit","u","headers","method","body","JSON","stringify","data","success","user","push","console","log","className","type","placeholder","required","onInput","e","target","value","onClick","preventDefault","Topicslist","topics","setTopics","useEffect","map","x","title","toString","Register","name","setName","surname","setSurname","email","setEmail","confirmPass","setPass","isSamePass","setIsSamePass","reg","path","component","props","Topic","topicID","topic","messages","topic_id","List","setTopic","Messages","match","params","message","Content","exact","App","basename","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3758a2e8.chunk.js","sourcesContent":["const url = 'https://coetus.herokuapp.com';\r\nconst api = '/api/forum';\r\nconst messages = '/message';\r\nconst user = '/users';\r\nconst topic = '/topics';\r\n\r\n function getMessage(id){\r\n    return fetch(`${url}${api}${messages}/${id}`)\r\n    .then(res=>res.json())\r\n}\r\n\r\n function login(u){\r\n    let res = fetch(`${url}${api}${user}`,{\r\n        headers:{\r\n            'Content-Type':'application/json; charset=utf-8' \r\n        },\r\n        method:'POST',\r\n        body:JSON.stringify(u)\r\n    }).then(res => res.json())\r\n    return res;\r\n}\r\n\r\n function register(reg){\r\n    let res = fetch(`${url}${api}${user}`,{\r\n        headers:{\r\n            'Content-Type':'application/json; charset=utf-8' \r\n        },\r\n        method:'PUT',\r\n        body:JSON.stringify(reg)\r\n    }).then(res => res.json())\r\n    return res;\r\n}\r\n\r\nfunction getTopics(){\r\n    return fetch(`${url}${api}${topic}`)\r\n    .then(res=>res.json());\r\n}\r\n\r\nexport {getMessage, login, register, getTopics}","import React from 'react';\r\nimport { useState } from 'react';\r\nimport { login } from '../util/service';\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nconst Login = ({ setUser, history }) => {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    \r\n    function handleSubmit() {\r\n        login({ username, password })\r\n            .then(data => {\r\n                  if (data.success) {\r\n                    setUser(data.user);\r\n                    history.push('/topics');\r\n                } else {\r\n                    console.log('Nije ulogovan');\r\n                }\r\n            })\r\n    }\r\n    return (\r\n        <form>\r\n            <input className=\"inp\" type=\"username\" placeholder=\"Username\" required onInput={e => {\r\n                setUsername(e.target.value)\r\n            }} />\r\n            <input className=\"inp\" type=\"password\" placeholder=\"Šifra\" required onInput={e => {\r\n                setPassword(e.target.value)\r\n            }} />\r\n            <input className=\"btn\" type=\"submit\" value=\"Uloguj se\" onClick={(e) => {\r\n                e.preventDefault()\r\n                handleSubmit()\r\n            }} />\r\n        </form>\r\n    )\r\n}\r\nexport default withRouter(Login)","import React from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport { getTopics } from '../util/service';\r\n\r\n\r\nconst Topicslist = () => {\r\n\r\n    const [topics, setTopics] = useState([])\r\n\r\n    useEffect(() => {\r\n        getTopics().then(data => {\r\n            setTopics(data.topics)\r\n        })\r\n    }, [])\r\n    return (\r\n        <div className=\"topic\">\r\n            {topics.map(x => {\r\n                return <div>\r\n                    {x.title.toString()}\r\n\r\n                </div>\r\n            })}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Topicslist","import React from 'react';\r\nimport { useState, useEffect } from 'react';\r\nimport { register } from '../util/service';\r\nimport { Route} from 'react-router-dom';\r\nimport Login from './Login';\r\nimport Topicslist from './TopicsList';\r\n\r\n\r\nconst Register = ({setUser, history}) => {\r\n    const [name, setName] = useState('');\r\n    const [surname, setSurname] = useState('');\r\n    const [username, setUsername] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [confirmPass, setPass] = useState('');\r\n    const [isSamePass, setIsSamePass] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setIsSamePass(confirmPass === password);\r\n       \r\n    }, [confirmPass, password]);\r\n\r\n    function handleSubmit(){\r\n        if(!password || !isSamePass) return;\r\n        register({name, surname, username, email, password}).then(data=>{\r\n            if(data.success){\r\n                setUser(data.user);\r\n                history.push('/topics');\r\n            } else {\r\n                console.log('Neuspešna registracija');\r\n            }\r\n        })\r\n    }\r\n    return (\r\n        <div className=\"main\">\r\n        <form id='contact'>\r\n                <input className=\"inp\"type=\"text\" placeholder=\"Ime\" required onInput={e => {\r\n                    setName(e.target.value)\r\n                }} />\r\n          \r\n                <input className=\"inp\"type=\"text\" placeholder=\"Prezime\" required onInput={e => {\r\n                    setSurname(e.target.value)\r\n                }} />\r\n                <input className=\"inp\"type=\"text\" placeholder=\"Korisničko ime\" required onInput={e => {\r\n                    setUsername(e.target.value)\r\n                }} />\r\n                <input className=\"inp\"type=\"email\" placeholder=\"Email\" required onInput={e => {\r\n                    setEmail(e.target.value)\r\n                }} />\r\n                <input className=\"inp\"type=\"password\" placeholder=\"Šifra\" required onInput={e => {\r\n                    setPassword(e.target.value)\r\n                }} />\r\n                <input className=\"inp\"type=\"password\" placeholder=\"Potvrdi šifru\" required onInput={e => {\r\n                    setPass(e.target.value)\r\n                }} />\r\n             \r\n                <input className=\"btn\" type=\"submit\" value=\"Registruj se\" onClick={e => { e.preventDefault(); handleSubmit() }} />\r\n           \r\n        </form>\r\n        <Route path='/' component={(props)=><Login setUser={setUser} {...props}/>} ></Route>\r\n        <Topicslist/>\r\n\r\n    </div>\r\n    )\r\n}\r\nexport default Register;","import React, { useState, useEffect } from 'react';\r\nimport { getMessage } from '../util/service';\r\n\r\nconst Topic = ({ history, topicID, topic }) => {\r\n\r\n    const [topics, setTopics] = useState('')\r\n    console.log(topics)\r\n    useEffect(() => {\r\n        getMessage(topicID)\r\n            .then(data => {\r\n                if (data.success) {\r\n                    return;\r\n                }\r\n                setTopics(data.messages.topic_id);\r\n            })\r\n    }, [topicID]);\r\n\r\n    return (\r\n        <>\r\n            <p onClick={() => {\r\n                history.push(`/topic/${topicID}`);\r\n            }} >{topic}</p>\r\n        </>\r\n    )\r\n}\r\nexport default Topic;","import React from 'react';\r\nimport Topic from './Topic';\r\n\r\nimport { getTopics } from '../util/service';\r\nimport { useState } from 'react';\r\nimport { useEffect } from 'react';\r\n\r\nconst List = ({history}) => {\r\n\r\n    const [topic, setTopic] = useState([]);\r\n\r\n    useEffect(() => {\r\n        getTopics().then(data => {  \r\n            setTopic(data.topics);\r\n        })\r\n    },[]);\r\n\r\n    return (\r\n        <div className=\"topic\">\r\n            {topic.map(e=>{\r\n                return <Topic  topic={e.title.toString()} topicID={e.topic_id} history={history}/> \r\n            })}\r\n         \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default List;","import React, { useState, useEffect } from 'react';\r\nimport { getMessage } from '../util/service';\r\n\r\n\r\nconst Messages = ({ match }) => {\r\n    const [topicID] = useState(match.params.topic_id);\r\n    const [topic, setTopic] = useState([]);\r\n    useEffect(() => {\r\n        getMessage(topicID).then(data => {\r\n            setTopic(data.messages);\r\n        })\r\n    }, [topicID]);\r\n\r\n    return (\r\n        <div className=\"topic\">\r\n            {topic.map(x => {\r\n                return <p >{x.message.toString()}</p>\r\n                   \r\n            })}\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default Messages;","import React from 'react';\r\nimport {Switch, Route} from 'react-router-dom';\r\nimport Register from '../components/Register';\r\nimport List from '../components/TopicList';\r\nimport Messages from '../components/Messages';\r\n\r\nconst Content = ({setUser, user}) =>{\r\n    return(\r\n        <div>\r\n            <Switch>\r\n                <Route exact path='/' component={(props) => <Register setUser={setUser} {...props} />} />                      \r\n                <Route path='/topics' component={List}></Route>\r\n                <Route path='/topic/:topic_id' component={(props) => <Messages setUser={setUser} user={user} {...props}/>}></Route>\r\n            </Switch>\r\n        </div>\r\n    )\r\n}\r\nexport default Content;","import ReactDOM from 'react-dom';\nimport './index.css';\n\n\nimport React, { useState } from 'react';\nimport './layout/style.css'\nimport { BrowserRouter as Router } from 'react-router-dom' \nimport Content from './layout/Content';\n\n\n\n\n\nconst App = () => {\n  \n  const [user,setUser] = useState()\n  return (\n    <>\n    <Router basename=\"projekat-react\">\n        <Content setUser={setUser} user={user}/>\n    </Router>\n    </>\n  )\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}